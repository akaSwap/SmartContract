{
    storage
        (pair
            (pair
                (pair
                    (address %akaAuctionFund)
                    (pair
                        (address %akaMinter)
                        (address %akaNFTContract)))
                (pair
                    (pair
                        (nat %auction_id)
                        (big_map %auctions
                            nat
                            (pair
                                (pair
                                    (pair
                                        (nat %akaOBJ_id)
                                        (mutez %current_bid_price))
                                    (pair
                                        (address %current_bidder)
                                        (pair
                                            (mutez %current_store_price)
                                            (mutez %direct_price))))
                                (pair
                                    (pair
                                        (timestamp %due_time)
                                        (address %issuer))
                                    (pair
                                        (string %metadata)
                                        (pair
                                            (nat %raise_percentage)
                                            (mutez %start_price)))))))
                    (pair
                        (nat %bid_violation_limit)
                        (int %extension_minute))))
            (pair
                (pair
                    (pair
                        (mutez %lowest_price)
                        (nat %management_fee))
                    (pair
                        (address %manager)
                        (big_map %metadata string bytes)))
                (pair
                    (pair
                        (address %oracle)
                        (bool %paused))
                    (pair
                        (big_map %raise_percentage_list nat unit)
                        (big_map %violation_list address nat)))));
    parameter
        (or
            (or
                (or
                    (or
                        (nat %bid_all)
                        (pair %bid_ten_percent
                            (nat %auction_id)
                            (mutez %bid_price)))
                    (or
                        (nat %cancel_auction)
                        (nat %close_auction)))
                (or
                    (or
                        (nat %direct_purchase)
                        (nat %fail_close_auction))
                    (or
                        (nat %fill_bid)
                        (or
                            (pair %make_auction
                                (pair
                                    (nat %akaOBJ_id)
                                    (pair
                                        (int %auction_duration)
                                        (mutez %direct_price)))
                                (pair
                                    (string %metadata)
                                    (pair
                                        (nat %raise_percentage)
                                        (mutez %start_price))))
                            (bool %set_auction_pause)))))
            (or
                (or
                    (or
                        (nat %set_bid_violation_limit)
                        (int %set_extension_minute))
                    (or
                        (mutez %set_lowest_price)
                        (pair %set_metadata
                            (string %k)
                            (bytes %v))))
                (or
                    (or
                        (nat %update_management_fee)
                        (address %update_manager))
                    (or
                        (address %update_oracle)
                        (or
                            (list %update_raise_percentage_list
                                (or
                                    (nat %add_percentage)
                                    (nat %remove_percentage)))
                            (list %update_violation_list
                                (pair
                                    (address %address)
                                    (nat %violation_count))))))));
    code
        {
            CAST
                (pair
                    (or
                        (or
                            (or
                                (or
                                    nat
                                    (pair nat mutez))
                                (or nat nat))
                            (or
                                (or nat nat)
                                (or
                                    nat
                                    (or
                                        (pair
                                            (pair
                                                nat
                                                (pair int mutez))
                                            (pair
                                                string
                                                (pair nat mutez)))
                                        bool))))
                        (or
                            (or
                                (or nat int)
                                (or
                                    mutez
                                    (pair string bytes)))
                            (or
                                (or nat address)
                                (or
                                    address
                                    (or
                                        (list
                                            (or nat nat))
                                        (list
                                            (pair address nat)))))))
                    (pair
                        (pair
                            (pair
                                address
                                (pair address address))
                            (pair
                                (pair
                                    nat
                                    (big_map
                                        nat
                                        (pair
                                            (pair
                                                (pair nat mutez)
                                                (pair
                                                    address
                                                    (pair mutez mutez)))
                                            (pair
                                                (pair timestamp address)
                                                (pair
                                                    string
                                                    (pair nat mutez))))))
                                (pair nat int)))
                        (pair
                            (pair
                                (pair mutez nat)
                                (pair
                                    address
                                    (big_map string bytes)))
                            (pair
                                (pair address bool)
                                (pair
                                    (big_map nat unit)
                                    (big_map address nat))))));
            UNPAIR;
            IF_LEFT
                {
                    IF_LEFT
                        {
                            IF_LEFT
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 5;
                                            CDR;
                                            IF
                                                {
                                                    PUSH string "Auction is paused now.";
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 96;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            NOW;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, over the due time.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 98;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            NEQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, cannot bid for your own auction.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 100;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 8;
                                            AMOUNT;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, bid price smaller than start_price";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 101;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 6;
                                            AMOUNT;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, bid price need to be smaller than direct_price";
                                                    FAILWITH
                                                };
                                            PUSH mutez 1;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 103;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            PUSH nat 100;
                                            DUP 4;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 4;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 103;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 7;
                                            ADD;
                                            MUL;
                                            PUSH nat 100;
                                            PUSH mutez 1;
                                            AMOUNT;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            MUL;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, need bid more than the raise_percentage.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 8;
                                            SENDER;
                                            MEM;
                                            IF
                                                {
                                                    SWAP;
                                                    DUP;
                                                    CAR;
                                                    GET 5;
                                                    SWAP;
                                                    DUP;
                                                    DUG 3;
                                                    GET 8;
                                                    SENDER;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 109;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    COMPARE;
                                                    LT;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "WrongCondition: self.data.violation_list[sp.sender] < self.data.bid_violation_limit";
                                                            FAILWITH
                                                        }
                                                }
                                                {
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 112;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            PUSH int 60;
                                            DUP 4;
                                            CAR;
                                            GET 6;
                                            NEG;
                                            MUL;
                                            ADD;
                                            NOW;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    DUP;
                                                    DUP 7;
                                                    DUP;
                                                    DUG 2;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 113;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    CDR;
                                                    DUP 11;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 11;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 113;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    GET 3;
                                                    CAR;
                                                    PUSH int 60;
                                                    DIG 12;
                                                    CAR;
                                                    GET 6;
                                                    MUL;
                                                    ADD;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    SOME;
                                                    SWAP;
                                                    UPDATE;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 116;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                    NIL operation;
                                                    DUP 3;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 3;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 117;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 3;
                                                    CONTRACT unit;
                                                    IF_NONE
                                                        {
                                                            PUSH int 117;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    DUP 4;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 4;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 117;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 5;
                                                    UNIT;
                                                    TRANSFER_TOKENS;
                                                    CONS
                                                }
                                                {
                                                    NIL operation
                                                };
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            DUP;
                                            DUP 8;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 124;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            AMOUNT;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            DUP;
                                            DUP 8;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 125;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            CAR;
                                            AMOUNT;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            DUP;
                                            DIG 7;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 126;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            SENDER;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 5;
                                            CDR;
                                            IF
                                                {
                                                    PUSH string "Auction is paused now.";
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 133;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            NOW;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, over the due time.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 135;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            NEQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, cannot bid for your own auction.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 137;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 8;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CDR;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, bid price smaller than start_price";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 138;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 6;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CDR;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, bid price need to be smaller than direct_price";
                                                    FAILWITH
                                                };
                                            PUSH nat 10;
                                            PUSH mutez 1;
                                            DUP 3;
                                            CDR;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 139;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            PUSH mutez 1;
                                            AMOUNT;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, transaction amount need equal to 10% of bid price";
                                                    FAILWITH
                                                };
                                            PUSH mutez 1;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 141;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            PUSH nat 100;
                                            DUP 4;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 4;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 141;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 7;
                                            ADD;
                                            MUL;
                                            PUSH nat 100;
                                            PUSH mutez 1;
                                            DUP 4;
                                            CDR;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    UNIT;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            MUL;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Bid failed, need bid more than the raise_percentage.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 8;
                                            SENDER;
                                            MEM;
                                            IF
                                                {
                                                    SWAP;
                                                    DUP;
                                                    CAR;
                                                    GET 5;
                                                    SWAP;
                                                    DUP;
                                                    DUG 3;
                                                    GET 8;
                                                    SENDER;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 147;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    COMPARE;
                                                    LT;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "WrongCondition: self.data.violation_list[sp.sender] < self.data.bid_violation_limit";
                                                            FAILWITH
                                                        }
                                                }
                                                {
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 150;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            PUSH int 60;
                                            DUP 4;
                                            CAR;
                                            GET 6;
                                            NEG;
                                            MUL;
                                            ADD;
                                            NOW;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    DUP;
                                                    DUP 7;
                                                    CAR;
                                                    DUP;
                                                    DUG 2;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 151;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    CDR;
                                                    DUP 11;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 11;
                                                    CAR;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 151;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    GET 3;
                                                    CAR;
                                                    PUSH int 60;
                                                    DIG 12;
                                                    CAR;
                                                    GET 6;
                                                    MUL;
                                                    ADD;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    SOME;
                                                    SWAP;
                                                    UPDATE;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            CAR;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 154;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                    NIL operation;
                                                    DUP 3;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 3;
                                                    CAR;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 155;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 3;
                                                    CONTRACT unit;
                                                    IF_NONE
                                                        {
                                                            PUSH int 155;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    DUP 4;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 4;
                                                    CAR;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 155;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 5;
                                                    UNIT;
                                                    TRANSFER_TOKENS;
                                                    CONS
                                                }
                                                {
                                                    NIL operation
                                                };
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            DUP;
                                            DUP 8;
                                            CAR;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 162;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            AMOUNT;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            DUP;
                                            DUP 8;
                                            CAR;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 163;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            CAR;
                                            DUP 11;
                                            CDR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            DUP;
                                            DIG 7;
                                            CAR;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 164;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            SENDER;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                }
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 84;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "You can only cancel your own auction";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 85;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "You can only cancel when nobody bid";
                                                    FAILWITH
                                                };
                                            NIL operation;
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            GET 4;
                                            CONTRACT %transfer
                                                (list
                                                    (pair
                                                        address
                                                        (list
                                                            (pair
                                                                address
                                                                (pair nat nat)))));
                                            IF_NONE
                                                {
                                                    PUSH int 298;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            NIL
                                                (pair
                                                    address
                                                    (list
                                                        (pair
                                                            address
                                                            (pair nat nat))));
                                            NIL
                                                (pair
                                                    address
                                                    (pair nat nat));
                                            PUSH nat 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 87;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            PAIR 3;
                                            CONS;
                                            SELF_ADDRESS;
                                            PAIR;
                                            CONS;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            NONE
                                                (pair
                                                    (pair
                                                        (pair nat mutez)
                                                        (pair
                                                            address
                                                            (pair mutez mutez)))
                                                    (pair
                                                        (pair timestamp address)
                                                        (pair
                                                            string
                                                            (pair nat mutez))));
                                            DIG 7;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 207;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            NOW;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Close auction failed, still in the due time.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 209;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 209;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    GET 3;
                                                    CDR;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    GET 3;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 5;
                                                    CAR;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Only oracle, manager, bidder or issuer can close the auction";
                                                    FAILWITH
                                                };
                                            PUSH mutez 0;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 215;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Close auction failed, auction ended with nobody bid, need to cancel, not close.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 218;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 218;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Close auction failed, bidder still not fill the price yet.";
                                                    FAILWITH
                                                };
                                            NIL operation;
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            CAR;
                                            CONTRACT %handle_fee
                                                (pair
                                                    nat
                                                    (pair address address));
                                            IF_NONE
                                                {
                                                    PUSH int 221;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            DUP 4;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 4;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 222;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            DUP 5;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 5;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 222;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            DUP 6;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 6;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 222;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            DUP 7;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 7;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 222;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            PAIR 3;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            GET 4;
                                            CONTRACT %transfer
                                                (list
                                                    (pair
                                                        address
                                                        (list
                                                            (pair
                                                                address
                                                                (pair nat nat)))));
                                            IF_NONE
                                                {
                                                    PUSH int 298;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            NIL
                                                (pair
                                                    address
                                                    (list
                                                        (pair
                                                            address
                                                            (pair nat nat))));
                                            NIL
                                                (pair
                                                    address
                                                    (pair nat nat));
                                            PUSH nat 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 225;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            DUP 9;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 9;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 225;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            PAIR 3;
                                            CONS;
                                            SELF_ADDRESS;
                                            PAIR;
                                            CONS;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            NONE
                                                (pair
                                                    (pair
                                                        (pair nat mutez)
                                                        (pair
                                                            address
                                                            (pair mutez mutez)))
                                                    (pair
                                                        (pair timestamp address)
                                                        (pair
                                                            string
                                                            (pair nat mutez))));
                                            DIG 7;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                }
                        }
                        {
                            IF_LEFT
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 181;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            NOW;
                                            COMPARE;
                                            LT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Purchase failed, over the due time.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 183;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            NEQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Purchase failed, cannot purchase for your own auction.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 185;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 6;
                                            AMOUNT;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Purchase failed, Purchase price <> the amount in transaction";
                                                    FAILWITH
                                                };
                                            PUSH mutez 0;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 187;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                    NIL operation;
                                                    DUP 3;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 3;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 188;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 3;
                                                    CONTRACT unit;
                                                    IF_NONE
                                                        {
                                                            PUSH int 188;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    DUP 4;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 4;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 188;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 5;
                                                    UNIT;
                                                    TRANSFER_TOKENS;
                                                    CONS
                                                }
                                                {
                                                    NIL operation
                                                };
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            CAR;
                                            CONTRACT %handle_fee
                                                (pair
                                                    nat
                                                    (pair address address));
                                            IF_NONE
                                                {
                                                    PUSH int 195;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            AMOUNT;
                                            DUP 5;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 5;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 196;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            DUP 7;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 7;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 196;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            PAIR 3;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            GET 4;
                                            CONTRACT %transfer
                                                (list
                                                    (pair
                                                        address
                                                        (list
                                                            (pair
                                                                address
                                                                (pair nat nat)))));
                                            IF_NONE
                                                {
                                                    PUSH int 298;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            NIL
                                                (pair
                                                    address
                                                    (list
                                                        (pair
                                                            address
                                                            (pair nat nat))));
                                            NIL
                                                (pair
                                                    address
                                                    (pair nat nat));
                                            PUSH nat 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 199;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            SENDER;
                                            PAIR 3;
                                            CONS;
                                            SELF_ADDRESS;
                                            PAIR;
                                            CONS;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            NONE
                                                (pair
                                                    (pair
                                                        (pair nat mutez)
                                                        (pair
                                                            address
                                                            (pair mutez mutez)))
                                                    (pair
                                                        (pair timestamp address)
                                                        (pair
                                                            string
                                                            (pair nat mutez))));
                                            DIG 7;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 233;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CAR;
                                            PUSH int 86400;
                                            ADD;
                                            NOW;
                                            COMPARE;
                                            GE;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fail-Close auction failed, still in the due time + 24hr.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 235;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    GET 3;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 5;
                                                    CAR;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Only oracle, manager or issuer can Fail-Close the auction";
                                                    FAILWITH
                                                };
                                            PUSH mutez 0;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 240;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fail-Close auction failed, auction ended with nobody bid, need to cancel, not Fail-Close.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 243;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 243;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            COMPARE;
                                            GT;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fail-Close auction failed, bidder already fill the price. Need to close auction.";
                                                    FAILWITH
                                                };
                                            NIL operation;
                                            DUP 3;
                                            GET 3;
                                            GET 3;
                                            CONTRACT unit;
                                            IF_NONE
                                                {
                                                    PUSH int 249;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 1;
                                            PUSH nat 100;
                                            DUP 6;
                                            GET 3;
                                            CAR;
                                            CDR;
                                            PUSH mutez 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            MUL;
                                            UNIT;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DUP 3;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 3;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 251;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            CONTRACT unit;
                                            IF_NONE
                                                {
                                                    PUSH int 251;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 1;
                                            PUSH nat 100;
                                            DUP 6;
                                            GET 3;
                                            CAR;
                                            CDR;
                                            PUSH mutez 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            MUL;
                                            EDIV;
                                            IF_NONE
                                                {
                                                    PUSH int 246;
                                                    FAILWITH
                                                }
                                                {
                                                    CAR
                                                };
                                            MUL;
                                            DUP 5;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 5;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 251;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            SUB;
                                            UNIT;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DIG 2;
                                            DUP;
                                            GET 8;
                                            SWAP;
                                            DUP;
                                            DUG 4;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 4;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 254;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            MEM;
                                            IF
                                                {
                                                    DUP 3;
                                                    DUP;
                                                    GET 8;
                                                    DUP;
                                                    DIG 5;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 6;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 255;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 3;
                                                    DUP;
                                                    DUG 2;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 255;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    PUSH nat 1;
                                                    ADD;
                                                    SOME;
                                                    SWAP;
                                                    UPDATE;
                                                    UPDATE 8;
                                                    DUG 2
                                                }
                                                {
                                                    DUP 3;
                                                    DUP;
                                                    GET 8;
                                                    PUSH
                                                        (option nat)
                                                        (Some 1);
                                                    DIG 5;
                                                    CAR;
                                                    GET 3;
                                                    CDR;
                                                    DUP 6;
                                                    GET;
                                                    IF_NONE
                                                        {
                                                            PUSH int 257;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    GET 3;
                                                    UPDATE;
                                                    UPDATE 8;
                                                    DUG 2
                                                };
                                            DUP 3;
                                            CAR;
                                            CAR;
                                            GET 4;
                                            CONTRACT %transfer
                                                (list
                                                    (pair
                                                        address
                                                        (list
                                                            (pair
                                                                address
                                                                (pair nat nat)))));
                                            IF_NONE
                                                {
                                                    PUSH int 298;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            PUSH mutez 0;
                                            NIL
                                                (pair
                                                    address
                                                    (list
                                                        (pair
                                                            address
                                                            (pair nat nat))));
                                            NIL
                                                (pair
                                                    address
                                                    (pair nat nat));
                                            PUSH nat 1;
                                            DUP 8;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 8;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 260;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CAR;
                                            DUP 9;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 9;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 260;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            PAIR 3;
                                            CONS;
                                            SELF_ADDRESS;
                                            PAIR;
                                            CONS;
                                            TRANSFER_TOKENS;
                                            CONS;
                                            DIG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            NONE
                                                (pair
                                                    (pair
                                                        (pair nat mutez)
                                                        (pair
                                                            address
                                                            (pair mutez mutez)))
                                                    (pair
                                                        (pair timestamp address)
                                                        (pair
                                                            string
                                                            (pair nat mutez))));
                                            DIG 7;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP
                                        }
                                }
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 169;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            GET 3;
                                            CDR;
                                            SENDER;
                                            COMPARE;
                                            NEQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fill bid failed, cannot bid for your own auction.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 171;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fill bid failed, only the bidder can fill the bid.";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 173;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            AMOUNT;
                                            DUP 4;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DUP 4;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 173;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            GET 5;
                                            ADD;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "Fill bid failed, transaction amount need equal to 90% of bid price";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            DUP;
                                            DUP 7;
                                            DUP;
                                            DUG 2;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 176;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            DIG 11;
                                            CAR;
                                            GET 3;
                                            CDR;
                                            DIG 11;
                                            GET;
                                            IF_NONE
                                                {
                                                    PUSH int 176;
                                                    FAILWITH
                                                }
                                                {
                                                };
                                            CAR;
                                            CAR;
                                            CDR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SOME;
                                            SWAP;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            NIL operation
                                        }
                                        {
                                            IF_LEFT
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    CAR;
                                                    CAR;
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 6;
                                                    COMPARE;
                                                    GE;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "start_price is too low";
                                                            FAILWITH
                                                        };
                                                    PUSH nat 2;
                                                    SWAP;
                                                    DUP;
                                                    GET 6;
                                                    SWAP;
                                                    DUP;
                                                    DUG 3;
                                                    CAR;
                                                    GET 4;
                                                    EDIV;
                                                    IF_NONE
                                                        {
                                                            PUSH int 67;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    CAR;
                                                    COMPARE;
                                                    GE;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "direct_price should at least twice higher than start_price";
                                                            FAILWITH
                                                        };
                                                    DUP;
                                                    CAR;
                                                    GET 3;
                                                    PUSH int 1;
                                                    SWAP;
                                                    COMPARE;
                                                    GE;
                                                    IF
                                                        {
                                                            DUP;
                                                            CAR;
                                                            GET 3;
                                                            PUSH int 14;
                                                            SWAP;
                                                            COMPARE;
                                                            LE
                                                        }
                                                        {
                                                            PUSH bool False
                                                        };
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "auction_duration should between 1 and 14 (inclusive)";
                                                            FAILWITH
                                                        };
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 7;
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 5;
                                                    MEM;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "raise_percentage should be in the raise_percentage_list";
                                                            FAILWITH
                                                        };
                                                    NIL operation;
                                                    DUP 3;
                                                    CAR;
                                                    CAR;
                                                    GET 3;
                                                    CONTRACT %fa2_admin_transfer
                                                        (pair
                                                            address
                                                            (list
                                                                (pair
                                                                    address
                                                                    (pair nat nat))));
                                                    IF_NONE
                                                        {
                                                            PUSH int 76;
                                                            FAILWITH
                                                        }
                                                        {
                                                        };
                                                    PUSH mutez 0;
                                                    NIL
                                                        (pair
                                                            address
                                                            (pair nat nat));
                                                    PUSH nat 1;
                                                    DUP 6;
                                                    CAR;
                                                    CAR;
                                                    SELF_ADDRESS;
                                                    PAIR 3;
                                                    CONS;
                                                    SENDER;
                                                    PAIR;
                                                    TRANSFER_TOKENS;
                                                    CONS;
                                                    DUP 3;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    UNPAIR;
                                                    SWAP;
                                                    DIG 6;
                                                    DUP;
                                                    GET 6;
                                                    SWAP;
                                                    DUP;
                                                    DUG 8;
                                                    GET 5;
                                                    PAIR;
                                                    DUP 8;
                                                    GET 3;
                                                    PAIR;
                                                    SENDER;
                                                    NOW;
                                                    PUSH int 60;
                                                    DUP;
                                                    PUSH int 24;
                                                    DUP 13;
                                                    CAR;
                                                    GET 3;
                                                    MUL;
                                                    MUL;
                                                    MUL;
                                                    ADD;
                                                    PAIR;
                                                    PAIR;
                                                    DUP 8;
                                                    CAR;
                                                    GET 4;
                                                    PUSH mutez 0;
                                                    PAIR;
                                                    SENDER;
                                                    PAIR;
                                                    PUSH mutez 0;
                                                    DIG 9;
                                                    CAR;
                                                    CAR;
                                                    PAIR;
                                                    PAIR;
                                                    PAIR;
                                                    SOME;
                                                    DIG 7;
                                                    CAR;
                                                    GET 3;
                                                    CAR;
                                                    UPDATE;
                                                    SWAP;
                                                    PUSH nat 1;
                                                    ADD;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    GET 3;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                            FAILWITH
                                                        };
                                                    SWAP;
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    SWAP;
                                                    UNPAIR;
                                                    CAR;
                                                    DIG 4;
                                                    SWAP;
                                                    PAIR;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    SWAP;
                                                    PAIR;
                                                    NIL operation
                                                }
                                        }
                                }
                        }
                }
                {
                    IF_LEFT
                        {
                            IF_LEFT
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            DIG 4;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            CAR;
                                            DIG 4;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR
                                        }
                                }
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            CDR;
                                            DIG 4;
                                            PAIR;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            DUP 6;
                                            CDR;
                                            SOME;
                                            DIG 6;
                                            CAR;
                                            UPDATE;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR
                                        }
                                }
                        }
                        {
                            IF_LEFT
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            CAR;
                                            DIG 4;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR
                                        }
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            UNPAIR;
                                            SWAP;
                                            CDR;
                                            DIG 4;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR
                                        }
                                }
                                {
                                    IF_LEFT
                                        {
                                            SWAP;
                                            DUP;
                                            DUG 2;
                                            GET 3;
                                            GET 3;
                                            SENDER;
                                            COMPARE;
                                            EQ;
                                            IF
                                                {
                                                    PUSH bool True
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 5;
                                                    CAR;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ
                                                };
                                            IF
                                                {
                                                }
                                                {
                                                    PUSH string "WrongCondition: (sp.sender == self.data.manager) | (sp.sender == self.data.oracle)";
                                                    FAILWITH
                                                };
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            SWAP;
                                            UNPAIR;
                                            CDR;
                                            DIG 4;
                                            PAIR;
                                            PAIR;
                                            SWAP;
                                            PAIR;
                                            SWAP;
                                            PAIR
                                        }
                                        {
                                            IF_LEFT
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    GET 3;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                            FAILWITH
                                                        };
                                                    DUP;
                                                    ITER
                                                        {
                                                            IF_LEFT
                                                                {
                                                                    DIG 2;
                                                                    DUP;
                                                                    GET 7;
                                                                    PUSH
                                                                        (option unit)
                                                                        (Some Unit);
                                                                    DIG 3;
                                                                    UPDATE;
                                                                    UPDATE 7;
                                                                    SWAP
                                                                }
                                                                {
                                                                    DIG 2;
                                                                    DUP;
                                                                    GET 7;
                                                                    NONE unit;
                                                                    DIG 3;
                                                                    UPDATE;
                                                                    UPDATE 7;
                                                                    SWAP
                                                                }
                                                        };
                                                    DROP
                                                }
                                                {
                                                    SWAP;
                                                    DUP;
                                                    DUG 2;
                                                    GET 3;
                                                    GET 3;
                                                    SENDER;
                                                    COMPARE;
                                                    EQ;
                                                    IF
                                                        {
                                                        }
                                                        {
                                                            PUSH string "WrongCondition: sp.sender == self.data.manager";
                                                            FAILWITH
                                                        };
                                                    DUP;
                                                    ITER
                                                        {
                                                            DUP 3;
                                                            GET 8;
                                                            SWAP;
                                                            DUP;
                                                            DUG 2;
                                                            CAR;
                                                            MEM;
                                                            IF
                                                                {
                                                                    DUP;
                                                                    CDR;
                                                                    PUSH nat 0;
                                                                    COMPARE;
                                                                    EQ;
                                                                    IF
                                                                        {
                                                                            DIG 2;
                                                                            DUP;
                                                                            GET 8;
                                                                            NONE nat;
                                                                            DIG 3;
                                                                            CAR;
                                                                            UPDATE;
                                                                            UPDATE 8;
                                                                            SWAP
                                                                        }
                                                                        {
                                                                            DIG 2;
                                                                            DUP;
                                                                            GET 8;
                                                                            DUP 3;
                                                                            CDR;
                                                                            SOME;
                                                                            DIG 3;
                                                                            CAR;
                                                                            UPDATE;
                                                                            UPDATE 8;
                                                                            SWAP
                                                                        }
                                                                }
                                                                {
                                                                    DUP;
                                                                    CDR;
                                                                    PUSH nat 0;
                                                                    COMPARE;
                                                                    LT;
                                                                    IF
                                                                        {
                                                                            DIG 2;
                                                                            DUP;
                                                                            GET 8;
                                                                            DUP 3;
                                                                            CDR;
                                                                            SOME;
                                                                            DIG 3;
                                                                            CAR;
                                                                            UPDATE;
                                                                            UPDATE 8;
                                                                            SWAP
                                                                        }
                                                                        {
                                                                            DROP
                                                                        }
                                                                }
                                                        };
                                                    DROP
                                                }
                                        }
                                }
                        };
                    NIL operation
                };
            NIL operation;
            SWAP;
            ITER
                {
                    CONS
                };
            PAIR
        }
}